---
layout: post
title: spring arc
category : misc
tags : []
---

  不多说废话，开始做业务。
  
  当前比较通用的java web模型是用户请求进来之后由nginx来负载均衡下发，之后有cache来提供静态请求，java业务逻辑层响应动 js，大部分还都在使用js。js的页面由velocity渲染。再接着是control层与service层交互，如果有使用到数据库的话，有ibatis框架。而control和service层以及veiw的展示，spring mvc的使用代价较低，尤其是其注解式编程。
  
  说到spring，就该说说spring的架构，spring主要包括bean、context、core组件，有一个很形象的比喻，说如果spring是要搭一台戏，那么bean就像是演员，context就是背景，而core就是道具。
  
  最近总看到听到微服务这个词。这个的一个对立面就是服务的分层结构，想象一下如果一个大型程序，只是简单的分为展示层，service层和数据层，那么多人协作起来维护代价就会很大，尤其是当有多个任务同时进行时，最后的merge会相当困难，开发的进度非常受限制。于是可以按照功能模块解耦合，每一个功能模块都按照展示层，service层和数据层来单独维护开发，互相之间基本不受影响，功能开发升级发布都能够独立进行。这就是我理解的所谓的微服务。
  
   web程序相应时间不能够符合要求。优化是一件非常复杂的事情，可以用没有最好只有更好这样来形容。这是一个持续不间断的过程，淘宝也是经历了很多代的大型优化才达到当前的状态，能够顶的住超大规模流量的冲击。
  其总结出来的几条宝贵经验如下：
  
    1. 将velocity的解释执行优化成为编译执行，减少翻译过程。
    2. 引入缓存。
    3. 静态化改造。
    4. cookies和session的缓存优化。
    5. 统一cache，cdn化
  这些经验都是发展中的java web程序值得借鉴的。

